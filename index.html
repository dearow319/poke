<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PokéBattle KR · Lite v14</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">POKÉBATTLE<span>KR</span></div>
      <span class="badge">LITE v14 · SINGLE</span>
    </div>

    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">① 엔트리 입력</div>
        <div class="small" id="koFillStatus"></div>
      </div>
      <div class="grid grid-entry">
        <!-- 공격측 카드 -->
        <div class="card">
          <div class="card-header">
            <span class="card-title">공격측</span>
            <span class="tag-k">ATTACKER</span>
          </div>
          <div class="row">
            <div class="sbox" style="grid-column:span 4">
              <label>포켓몬 검색</label>
              <input id="atkSearch" class="input" autocomplete="off">
              <div id="atkSuggest" class="suggest"></div>
            </div>
            <div style="grid-column:span 2">
              <label>레벨</label>
              <input id="atkLevel" class="input" type="number" value="50">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 4">
              <label>이름</label>
              <input id="atkName" class="input">
            </div>
            <div style="grid-column:span 1">
              <label>타입1</소지템과 회복에 맞는 대사도 출력해줘야돼.>
              <input id="atkType1" class="input">
            </div>
            <div style="grid-column:span 1">
              <label>타입2</label>
              <input id="atkType2" class="input">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>현재 HP</label>
              <input id="atkCurHP" class="input" type="number" value="150">
            </div>
            <div style="grid-column:span 2">
              <label>최대 HP</label>
              <input id="atkHP" class="input" type="number" value="150">
            </div>
            <div style="grid-column:span 2">
              <label>친밀도</label>
              <input id="atkFriend" class="input" type="number" value="0">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>공격</label>
              <input id="atkA" class="input" type="number" value="200">
            </div>
            <div style="grid-column:span 2">
              <label>방어</label>
              <input id="atkB" class="input" type="number" value="120">
            </div>
            <div style="grid-column:span 2">
              <label>특성(자동)</label>
              <input id="atkAbility" class="input" placeholder="포켓몬 선택 시 자동 입력">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>공격 EV</label>
              <input id="atkAEV" class="input" type="number" value="252">
            </div>
            <div style="grid-column:span 2">
              <label>방어 EV</label>
              <input id="atkBEV" class="input" type="number" value="0">
            </div>
            <div style="grid-column:span 2">
              <label>소지 아이템</label>
              <select id="atkItem" class="input">
                <option value="없음">없음</option>
                <option value="">(아이템 로딩 중)</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>상태</label>
              <select id="atkStatus" class="input">
                <option>없음</option>
                <option>독</option>
                <option>맹독</option>
                <option>화상</option>
                <option>마비</option>
                <option>수면</option>
                <option>얼음</option>
              </select>
            </div>
            <div style="grid-column:span 2">
              <label>근성</label>
              <select id="atkGuts" class="input">
                <option>아니오</option>
                <option>예</option>
              </select>
            </div>
            <div style="grid-column:span 2">
              <label>자속</label>
              <select id="atkStab" class="input">
                <option>자동</option>
                <option>끄기</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 3">
              <label>추가배수</label>
              <input id="atkMod" class="input" type="number" step="0.01" value="1.0">
            </div>
          </div>
        </div>

        <!-- 수비측 카드 -->
        <div class="card">
          <div class="card-header">
            <span class="card-title">수비측</span>
            <span class="tag-k">DEFENDER</span>
          </div>
          <div class="row">
            <div class="sbox" style="grid-column:span 4">
              <label>포켓몬 검색</label>
              <input id="defSearch" class="input" autocomplete="off">
              <div id="defSuggest" class="suggest"></div>
            </div>
            <div style="grid-column:span 2">
              <label>레벨</label>
              <input id="defLevel" class="input" type="number" value="50">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 4">
              <label>이름</label>
              <input id="defName" class="input">
            </div>
            <div style="grid-column:span 1">
              <label>타입1</label>
              <input id="defType1" class="input">
            </div>
            <div style="grid-column:span 1">
              <label>타입2</label>
              <input id="defType2" class="input">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>현재 HP</label>
              <input id="defCurHP" class="input" type="number" value="180">
            </div>
            <div style="grid-column:span 2">
              <label>최대 HP</label>
              <input id="defHP" class="input" type="number" value="180">
            </div>
            <div style="grid-column:span 2">
              <label>친밀도</label>
              <input id="defFriend" class="input" type="number" value="0">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>방어</label>
              <input id="defB" class="input" type="number" value="120">
            </div>
            <div style="grid-column:span 2">
              <label>공격</label>
              <input id="defA" class="input" type="number" value="120">
            </div>
            <div style="grid-column:span 2">
              <label>특성(자동)</label>
              <input id="defAbility" class="input" placeholder="포켓몬 선택 시 자동 입력">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>방어 EV</label>
              <input id="defBEV" class="input" type="number" value="252">
            </div>
            <div style="grid-column:span 2">
              <label>HP EV</label>
              <input id="defHPEV" class="input" type="number" value="0">
            </div>
            <div style="grid-column:span 2">
              <label>소지 아이템</label>
              <select id="defItem" class="input">
                <option value="없음">없음</option>
                <option value="">(아이템 로딩 중)</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>상태</label>
              <select id="defStatus" class="input">
                <option>없음</option>
                <option>독</option>
                <option>맹독</option>
                <option>화상</option>
                <option>마비</option>
                <option>수면</option>
                <option>얼음</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="hr"></div>

      <!-- 날씨만 남기고 필드 제거 -->
      <div class="card" style="margin-bottom:8px;">
        <div class="card-header">
          <span class="card-title">날씨</span>
        </div>
        <div class="row">
          <div style="grid-column:span 2">
            <label>날씨</label>
            <select id="weather" class="input">
              <option>없음</option>
              <option>쾌청</option>
              <option>비</option>
              <option>모래바람</option>
              <option>싸라기눈</option>
            </select>
          </div>
        </div>
        <div class="flex" style="margin-top:6px;">
          <button id="btnTurn" class="btn">턴 종료 처리(잔류 데미지/회복)</button>
        </div>
      </div>

      <!-- 교체 / 스왑 버튼 묶음 -->
      <div class="flex" style="margin-bottom:4px;">
        <button id="swapAtk" class="btn">공격측 교체</button>
        <button id="swapDef" class="btn">수비측 교체</button>
        <button id="btnSwap" class="btn">좌/우 전체 스왑</button>
      </div>

      <!-- 덱 저장/불러오기/삭제 묶음 -->
      <div class="flex">
        <input id="slotName" class="input" placeholder="새 덱 이름" style="max-width:140px">
        <button id="btnSave" class="btn">현재 상태 저장</button>
        <select id="deckList" class="input" style="max-width:160px">
          <option value="">저장된 덱 목록</option>
        </select>
        <button id="btnLoadSel" class="btn">전체 불러오기</button>
        <button id="btnLoadAtk" class="btn">공격측만</button>
        <button id="btnLoadDef" class="btn">수비측만</button>
        <button id="btnDelDeck" class="btn red">선택 덱 삭제</button>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">② 기술 지시 → 대미지 계산</div>
        <span class="chip">현재 상성: <span id="effNow">-</span></span>
      </div>
      <div class="grid grid-main">
        <div class="card">
          <div class="card-header">
            <span class="card-title">기술 선택</span>
          </div>
          <div class="row">
            <div class="sbox" style="grid-column:span 4">
              <label>기술명</label>
              <input id="moveName" class="input" autocomplete="off">
              <div id="moveSuggest" class="suggest"></div>
            </div>
            <div style="grid-column:span 2">
              <label>타입</label>
              <input id="moveType" class="input">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>분류</label>
              <select id="moveCat" class="input">
                <option>물리</option>
                <option>특수</option>
              </select>
            </div>
            <div style="grid-column:span 2">
              <label>위력</label>
              <input id="movePower" class="input" type="number" value="120">
            </div>
            <div style="grid-column:span 2">
              <label>추가배수(기술)</label>
              <input id="moveMod" class="input" type="number" step="0.01" value="1.0">
            </div>
          </div>
          <div class="row">
            <div style="grid-column:span 2">
              <label>급소</label>
              <select id="isCrit" class="input">
                <option>아니오</option>
                <option>예</option>
              </select>
            </div>
          </div>
          <div class="hr"></div>
          <div class="flex">
            <button id="btnCalc" class="btn">범위 계산 & 로그</button>
            <button id="btnRoll" class="btn red">랜덤 롤 1회</button>
            <button id="btnApply" class="btn">피해 적용(수비)</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">결과</span>
          </div>
          <div class="flex" style="margin-bottom:6px">
            <span class="chip">범위 <span id="outRange">-</span></span>
            <span class="chip">OHKO <span id="outOHKO">-</span></span>
            <span class="chip">2HKO <span id="out2HKO">-</span></span>
          </div>
          <div id="outLog" class="log">-</div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">히스토리</span>
          </div>
          <div id="hist" class="log"></div>
          <div class="hr"></div>
          <button id="btnClear" class="btn">비우기</button>
        </div>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
